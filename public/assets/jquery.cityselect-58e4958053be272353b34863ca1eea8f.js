!function(t){t.fn.citySelect=function(i){if(!(this.length<1)){i=t.extend({url:"js/city.min.js",prov:null,city:null,dist:null,nodata:null,required:!0},i);var n,e=this,l=e.find(".prov"),d=e.find(".city"),o=e.find(".dist"),s=(i.prov,i.city,i.dist,i.required?"":"<option value=''>\u8bf7\u9009\u62e9</option>"),c=function(){var e=l.get(0).selectedIndex;return i.required||e--,d.empty().attr("disabled",!0),o.empty().attr("disabled",!0),0>e||"undefined"==typeof n.citylist[e].c?void("none"==i.nodata?(d.css("display","none"),o.css("display","none")):"hidden"==i.nodata&&(d.css("visibility","hidden"),o.css("visibility","hidden"))):(temp_html=s,t.each(n.citylist[e].c,function(t,i){temp_html+="<option value='"+i.n+"'>"+i.n+"</option>"}),d.html(temp_html).attr("disabled",!1).css({display:"",visibility:""}),void a())},a=function(){var e=l.get(0).selectedIndex,c=d.get(0).selectedIndex;return i.required||(e--,c--),o.empty().attr("disabled",!0),0>e||0>c||"undefined"==typeof n.citylist[e].c[c].a?void("none"==i.nodata?o.css("display","none"):"hidden"==i.nodata&&o.css("visibility","hidden")):(temp_html=s,t.each(n.citylist[e].c[c].a,function(t,i){temp_html+="<option value='"+i.s+"'>"+i.s+"</option>"}),void o.html(temp_html).attr("disabled",!1).css({display:"",visibility:""}))},u=function(){temp_html=s,t.each(n.citylist,function(t,i){temp_html+="<option value='"+i.p+"'>"+i.p+"</option>"}),l.html(temp_html),setTimeout(function(){null!=i.prov&&(l.val(i.prov),c(),setTimeout(function(){null!=i.city&&(d.val(i.city),a(),setTimeout(function(){null!=i.dist&&o.val(i.dist)},1))},1))},1),l.bind("change",function(){c()}),d.bind("change",function(){a()})};"string"==typeof i.url?t.getJSON(i.url,function(t){n=t,u()}):(n=i.url,u())}}}(jQuery);